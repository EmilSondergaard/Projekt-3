<!DOCTYPE html>
<html lang= "en">
    <head>
        
    <link rel="shortcut icon" href="#">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/js/tabulator.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/css/tabulator.min.css">
    </link>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript">
   
   var holdNavn1;
    var holdNavn2;
    var tid1;
    var tid2;
    var highscore = [];
    var result = [];
    var uddannelse;
    var litres;
    var sw = 0;
    var st = 0;
    var e = 0;
    var ee = 0;
    var bt = 0;
    var m = 0;
    var kt = 0;

// function beerScore (studieretning, liter){
    // var highscoreElement = document.createElement("h1");
    // highscoreElement.value = "Ølscore";
 

    // litres = litres + 1.32

    // var count = {study: uddannelse, liter: Number(litres)};
    // beerCount.push(count);
    // beerCount.sort((a,b)=> b.time - a.time);
    // const container2 = document.getElementById("beercount-container");
    // container.innerHTML="";
    // for (let index = 0; index < 5; index++) {
    //     if(highscore[index]){
    //         let item = document.createElement("h2");
    //         item.innerHTML = `studieretning: ${beerCount[index].study} - : ${highscore[index].time}`;
    //         container2.appendChild(item);
    //     }
    // }
// }

function sortData() {
    console.log(result);
    var highscoreElement = document.createElement("h1");
    highscoreElement.value = "Highscore";
    highscore = result;

    highscore.sort((a,b)=> a.Time - b.Time);
    const container1 = document.getElementById("highscore-container");
    container1.innerHTML="";
    for (let index = 0; index < 5; index++) {
        if(highscore[index]){
            let item = document.createElement("h2");
            item.innerHTML = `navn: ${highscore[index].Team_Name} - time: ${highscore[index].Time}`;
            container1.appendChild(item);
        }
    }
}
    //console.log(highscore);
    // send til serve



// function checkStudy()
// {
//     var beerElement = document.createElement("h1");
//     beerElement.value = "Ølscore";
//          if (document.getElementsByName('softwareteknologi') == true) 
//             {
//             sw +=1.32;
//             } else if (document.getElementsByName('elektriskenergiteknologi') == true){
//             ee +=1.32;
//             } else if (document.getElementsByName('bioteknologi') == true){
//             bt +=1.32;
//             } else if (document.getElementsByName('kemiteknologi') == true){
//             kt +=1.32;
//             } else if (document.getElementsByName('maskinteknik') == true){
//             m +=1.32;
//             } else if (document.getElementsByName('sundhedsteknologi') == true){
//             st +=1.32;
//             } else if (document.getElementsByName('elektronik') == true){
//             e +=1.32;
//             }

//             //send til server
// }

//    if (document.getElementById('softwareteknologi').checked == true) 
//    {
//      sw = sw + 1.32;
//    }
//     else 
//     {
    
//    }



// if (document.getElementById("softwareteknologi") == 1) {
//     sw = sw + 1.32;
//     let item1 = document.createElement("h2");
//             item1.innerHTML = `softwareteknologi: - ${sw} L`;
            
// } 
// else if (document.getElementById("elektriskenergiteknologi") == 1) 
// {
//     ee = ee + 1.32;
//     let item2 = document.createElement("h2");
//             item2.innerHTML = `elektriskenergiteknologi: - ${ee} L`;
// }
// container1.appendChild(sw); 
// container1.appendChild(ee);


// function updateData()
// {
//     setInterval(() => {  }, 5000);
// }


function sendData()
{
    console.log("sending data");
    axios.post('http://localhost:8080/',
    {
        "Team_Name": document.getElementById("hold1-navn").value,
        "Field_of_Study": "Ikke implementeret",
        "Time": document.getElementById("hold1-tid").value??""
        
    })
    .then(response => {}).catch(error => console.error(error));//alert('Try again'));     
    console.log("sent data");
}

function getData ()
{
    console.log("fetching data");
    axios.get('http://localhost:8080/sendAllData')
    .then(response => {
        result = response.data;
        sortData();
        
    }).catch(error => alert('Could not get data'));
}


function clickEvent() {
    // holdNavn1 = document.getElementById("hold1-navn").value;
    // tid1 = document.getElementById("hold1-tid").value;
    // holdNavn2 = document.getElementById("hold2-navn").value;
    // tid2 = document.getElementById("hold2-tid").value;

    sendData();
    getData();
    
    // sortData(holdNavn1, tid1);
    
   // checkStudy();
    
}
</script>
        <title> Bytebattle </title>
        <meta chjarset = "uft-8">
    </head>

    <html>
        <div  style="width: 760px; display: table-cell; background-color: silver;"> <h1> BYTEBATTLE </h1> </div>
        </body>
        </html>



<html>
    <header> 
     </header>
    <body>
        <div style="width: 50%; display: table;">
            <div style="display: table-row">
                <div style="width: 300px; display: table-cell; background-color: red;">
                    <h1>Hold 1</h1>
                    <h3>Holdnavn: </h3>
                    <input id="hold1-navn" placeholder="Indtast Hold" type="text" ></input>
                    </br>
                    <h4>Studieretning: </h4>
                    <input name="studieretning1" id="softwareteknologi" type="radio"></input>
                    <label for="softwareteknologi"> Softwareteknologi </label></br>
                    <input name="studieretning1" id="elektriskenergiteknologi" type="radio"></input>
                    <label for="elektriskenergiteknologi"> Elektrisk energiteknologi </label></br>
                    <input name="studieretning1" id="bioteknologi" type="radio"></input>
                    <label for="bioteknologi"> Bioteknologi </label></br>
                    <input name="studieretning1" id="kemiteknologi" type="radio"></input>
                    <label for="kemiteknologi"> Kemi- og fødevareteknologi </label></br>
                    <input name="studieretning1" id="maskinteknik" type="radio"></input>
                    <label for="maskinteknik"> Maskinteknik </label></br>
                    <input name="studieretning1" id="sundhedsteknologi" type="radio"></input>
                    <label for="sundhedsteknologi"> Sundhedsteknologi </label></br>
                    <input name="studieretning1" id="elektronik" type="radio"></input>
                    <label for="elektronik"> Elektronik </label></br>
                    <p id="newline"></p>

                    <input id="hold1-tid" placeholder="Indtast tid i sek" type="text" ></input>
                    <p id="newline"></p>
                    <button onclick="clickEvent()" id="gem" placeholder="Indtast navn" type="button" >Gem oplysninger</button>
                    
                    
                    
                    
                </div>
 
                    <div style="width: 300px; display: table-cell; background-color: gold;">
                    <h1>Hold 2</h1>
                    <h3>Holdnavn: </h3>
                    <input id="hold2-navn" placeholder="Indtast hold" type="text"></input>
                    </br>
                    <h4>Studieretning: </h4>
                    <input name="studieretning2" id="softwareteknologi" type="radio"></input>
                    <label for="softwareteknologi"> Softwareteknologi </label></br>
                    <input name="studieretning2" id="elektriskenergiteknologi" type="radio"></input>
                    <label for="elektriskenergiteknologi"> Elektrisk energiteknologi </label></br>
                    <input name="studieretning2" id="bioteknologi" type="radio"></input>
                    <label for="bioteknologi"> Bioteknologi </label></br>
                    <input name="studieretning2" id="kemiteknologi" type="radio"></input>
                    <label for="kemiteknologi"> Kemi- og fødevareteknologi </label></br>
                    <input name="studieretning2" id="maskinteknik" type="radio"></input>
                    <label for="maskinteknik"> Maskinteknik </label></br>
                    <input name="studieretning2" id="sundhedsteknologi" type="radio"></input>
                    <label for="sundhedsteknologi"> Sundhedsteknologi </label></br>
                    <input name="studieretning2" id="elektronik" type="radio"></input>
                    <label for="elektronik"> Elektronik </label></br>
                    <p id="newline"></p>
                    <input id="hold2-tid" placeholder="Indtast tid i sek" type="text" ></input>
                    
                </div>
            </div>
        </div>
        <div id="highscoreElement"></div>
            <div style="width: 760px; display: table-cell; background-color: red;">
            <h1>Highscore</h1>
            <div id="highscore-container"></div>
        </div>

  
        <div id="olhighscoreElement">
            <div style="width: 760px; display: table-cell; background-color: gold;">
            <h1>Ølscore</h1>
            <div id="ol-container"></div>
        </div>
        <script>
            getData();
        </script>
    </body>
</html>

<!-- <style>
    .vertical {
        border-left: 100px solid black;
        height: 300;
        position: relative;
        left: 50%;
    }
</style> -->